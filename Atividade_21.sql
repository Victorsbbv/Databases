CREATE DATABASE Pizzaria;
USE Pizzaria;

CREATE TABLE Cliente (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome TEXT
);

INSERT INTO Cliente (nome) VALUES
 ('Maria Madalena'),
 ('Pedro Guilherme'),
 ('Ana de Aramas'),
 ('Pedro William'),
 ('Victor Vieira'),
 ('Thiago Vieira'),
 ('Agatha Menezes'),
 ('Nicolas de Souza'),
 ('Roberto Furini'),
 ('Lucas Gabriel'),
 ('Nathan Tominaga'),
 ('Leo Klutz'),
 ('Altair Alahad'),
 ('Ezio Auditore'),
 ('Haytham Kenway'),
 ('Connor Kenway'),
 ('Aveline Grandpe'),
 ('Edward Kenway'),
 ('Adewale'),
 ('Shay Kormac'),
 ('Arno Dorian'),
 ('Evie Fryie'),
 ('Jacob Fryie'),
 ('Bayek de Siwa'),
 ('Aya de Siwa'),
 ('Kassandra Mysthos'),
 ('Eivor Wolfkissed'),
 ('Basim Alahad'),
 ('Naoe Kimura'),
 ('Dave Gahan'),
 ('Martin Gore'),
 ('Alan Wilder'),
 ('Vince Clarke'),
 ('Andy Bell'),
 ('Bono'),
 ('Elvis Presley'),
 ('Andrew Fletcher'),
 ('Lucas Silva'),
 ('Bruno Oliveira'),
 ('João Cardoso'),
 ('Mateus Andrade'),
 ('Daniel Rodrigues'),
 ('Fernanda Costa'),
 ('Juliana Barros'),
 ('Patricia Souza'),
 ('Larissa Carvalho'),
 ('Claudia Ribeiro'),
 ('Ana Clara Santos'),
 ('Paula Almeida'),
 ('Rafael Moreira'),
 ('Tiago Lopes'),
 ('Carlos Ferreira'),
 ('Ricardo Teixeira'),
 ('Gabriela Lima'),
 ('Mariana Correia'),
 ('Beatriz Furtado'),
 ('Aline Macedo'),
 ('Felipe Albuquerque'),
 ('Amanda Martins'),
 ('Renato Sampaio'),
 ('Camila Assis'),
 ('Joana Prado'),
 ('André Gonçalves'),
 ('Vinicius Ramos'),
 ('Marcelo Araújo'),
 ('Rodrigo Machado'),
 ('Lucas Pereira'),
 ('Vitor Hugo'),
 ('Marcos Lima'),
 ('Leandro Silva'),
 ('Bruna Fernandes'),
 ('Isabela Melo'),
 ('Helena Tavares'),
 ('Samuel Freitas'),
 ('Pedro Monteiro'),
 ('Arthur Mendes'),
 ('Júlia Costa');

CREATE TABLE Pizza (
    id INT AUTO_INCREMENT PRIMARY KEY,
    sabor TEXT,
    preco FLOAT(10, 2) NOT NULL
);

INSERT INTO Pizza (sabor, preco) VALUES
 ('Margherita', 30.00),
 ('Pepperoni', 35.00),
 ('Mussarela', 28.00),
 ('Calabresa', 32.00),
 ('Frango com Catupiry', 38.00),
 ('Portuguesa', 36.00),
 ('Quatro Queijos', 40.00),
 ('Napolitana', 30.00),
 ('Mexicana', 34.00),
 ('Vegetariana', 28.00),
 ('Peperonata', 31.00),
 ('Gorgonzola', 35.00),
 ('Atum', 32.00),
 ('Bacon', 36.00),
 ('Palmito', 33.00),
 ('Frutos do Mar', 42.00),
 ('Italiano', 37.00),
 ('Camarão', 45.00),
 ('Alho e Óleo', 29.00),
 ('Brócolis', 34.00),
 ('Linguiça', 30.00),
 ('Ricota com Espinafre', 32.00),
 ('Chester com Cream Cheese', 39.00),
 ('Batata com Queijo', 30.00),
 ('Salmão', 50.00),
 ('Cebola', 29.00),
 ('Coração de Frango', 31.00),
 ('Azeitona', 28.00),
 ('Pesto', 36.00),
 ('Salsicha', 29.00),
 ('Strogonoff', 38.00),
 ('Açai com Frutas', 40.00),
 ('Tuna', 42.00),
 ('Cheddar com Bacon', 38.00),
 ('Chili com Carne', 34.00),
 ('Creme de Avelã', 30.00),
 ('Abobrinha', 28.00),
 ('Sopa de Cebola', 29.00),
 ('Tropicana', 31.00),
 ('Cobb Salad', 36.00),
 ('Tortilla', 34.00),
 ('Especiais', 45.00),
 ('Aspargos', 40.00),
 ('Cogumelo', 33.00),
 ('Carne Seca', 39.00),
 ('Pato com Laranja', 44.00),
 ('Curry', 37.00),
 ('Banana com Canela', 32.00),
 ('Salmão e Queijo', 50.00),
 ('Queijo Coalho', 30.00),
 ('Batata Doce', 28.00),
 ('Tomate Seco', 32.00),
 ('Espinafre com Ricota', 31.00),
 ('Sushi Pizza', 42.00),
 ('Pizza de Caipirinha', 35.00),
 ('Pizza de Quinoa', 38.00);

CREATE TABLE Refrigerante (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome TEXT,
    preco FLOAT(10, 2) NOT NULL
);

INSERT INTO Refrigerante (nome, preco) VALUES
 ('Coca-Cola', 5.00),
 ('Fanta', 4.50),
 ('Sprite', 4.50),
 ('Guaraná', 5.00),
 ('Pepsi', 4.80),
 ('Água com Gás', 3.50),
 ('Água Sem Gás', 3.00),
 ('Suco de Laranja', 6.00),
 ('Suco de Uva', 6.50),
 ('Chá Gelado', 5.50);

CREATE TABLE Pedido (
    id INT AUTO_INCREMENT PRIMARY KEY,
    cliente_id INT NOT NULL,
    pizza_id INT NOT NULL,
    quantidade INT NOT NULL,
    refrigerante_id INT,   
    quantidade_refrigerante INT, 
    data_pedido DATE NOT NULL,
    FOREIGN KEY (cliente_id) REFERENCES Cliente(id),
    FOREIGN KEY (pizza_id) REFERENCES Pizza(id),
    FOREIGN KEY (refrigerante_id) REFERENCES Refrigerante(id)
);

 INSERT INTO Pedido (cliente_id, pizza_id, quantidade, refrigerante_id, quantidade_refrigerante, data_pedido) VALUES
 (1, 1, 2, 1, 2, '2024-10-10'),
 (2, 2, 1, 2, 1, '2024-10-10'),
 (3, 3, 1, NULL, 0, '2024-10-10'),
 (4, 4, 2, 3, 1, '2024-10-10'),
 (5, 5, 1, NULL, 0, '2024-10-10'),
 (6, 6, 1, 4, 1, '2024-10-10'), 
 (7, 7, 1, 5, 1, '2024-10-10'), 
 (8, 8, 2, 6, 2, '2024-10-10'), 
 (9, 9, 1, NULL, 0, '2024-10-10'), 
 (10, 10, 2, 1, 1, '2024-10-10'), 
 (11, 11, 1, 2, 1, '2024-10-10'), 
 (12, 12, 1, 3, 1, '2024-10-10'), 
 (13, 13, 2, 4, 1, '2024-10-10'), 
 (14, 14, 1, NULL, 0, '2024-10-10'),  
 (15, 15, 1, 5, 2, '2024-10-10'), 
 (16, 16, 1, NULL, 0, '2024-10-10'), 
 (17, 17, 2, 6, 2, '2024-10-10'), 
 (18, 18, 1, 7, 1, '2024-10-10'), 
 (19, 19, 1, NULL, 0, '2024-10-10'),  
 (20, 20, 1, 8, 1, '2024-10-10'), 
 (21, 21, 2, 9, 2, '2024-10-10'), 
 (22, 22, 1, 10, 1, '2024-10-10'), 
 (23, 23, 2, NULL, 0, '2024-10-10'),  
 (24, 24, 1, 1, 1, '2024-10-10'),  
 (25, 25, 1, 2, 1, '2024-10-10'),  
 (26, 26, 1, NULL, 0, '2024-10-10'),
 (27, 27, 2, 3, 2, '2024-10-10'), 
 (28, 28, 1, 4, 1, '2024-10-10'), 
 (29, 29, 1, 5, 1, '2024-10-10'), 
 (30, 30, 1, 6, 1, '2024-10-10'),  
 (31, 31, 2, 7, 2, '2024-10-10'),  
 (32, 32, 1, 8, 1, '2024-10-10'),  
 (33, 33, 1, NULL, 0, '2024-10-10'),  
 (34, 34, 1, 9, 1, '2024-10-10'), 
 (35, 35, 1, 10, 1, '2024-10-10'),  
 (36, 36, 1, NULL, 0, '2024-10-10'),  
 (37, 37, 1, 1, 1, '2024-10-10'),  
 (38, 38, 1, 2, 1, '2024-10-10'), 
 (39, 39, 1, 3, 1, '2024-10-10'),  
 (40, 40, 2, 4, 2, '2024-10-10'), 
 (41, 41, 1, 5, 1, '2024-10-10'),  
 (42, 42, 1, 6, 1, '2024-10-10'),  
 (43, 43, 1, NULL, 0, '2024-10-10'),  
 (44, 44, 1, 7, 1, '2024-10-10'),
 (45, 45, 2, 8, 2, '2024-10-10'), 
 (46, 46, 1, 9, 1, '2024-10-10'), 
 (47, 47, 1, 10, 1, '2024-10-10'), 
 (48, 48, 1, NULL, 0, '2024-10-10'),
 (49, 49, 1, 1, 1, '2024-10-10'), 
 (50, 50, 2, 2, 2, '2024-10-10');  

SELECT 
    c.nome AS Cliente,
    p.sabor AS Pizza,
    ped.quantidade AS Quantidade_Pizza,
    r.nome AS Refrigerante,
    ped.quantidade_refrigerante AS Quantidade_Refrigerante,
    ped.data_pedido AS Data_Pedido,
    (ped.quantidade * p.preco) AS Total_Pizza,
    (ped.quantidade_refrigerante * r.preco) AS Total_Refrigerante,
    (ped.quantidade * p.preco + ped.quantidade_refrigerante * IFNULL(r.preco, 0)) AS Total_Geral
FROM 
    Pedido ped
JOIN 
    Cliente c ON ped.cliente_id = c.id
JOIN 
    Pizza p ON ped.pizza_id = p.id
LEFT JOIN 
    Refrigerante r ON ped.refrigerante_id = r.id;
